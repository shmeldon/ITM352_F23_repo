<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script>
    let product_quantities = [2, 1, 1, 3, 12];

    // array of all products
    // corresponds to product_quantities array
    // product_quantities[i] is the quantity for products[i]
    products = [
      { name: "small gumball", price: 0.02 },
      { name: "medium gumball", price: 0.05 },
      { name: "large gumball", price: 0.07 },
      { name: "small jawbreaker", price: 0.06 },
      { name: "large jawbreaker", price: 0.1 },
    ];
  </script>
  <body>
    <table style="border: 1px solid black; text-align: center">
      <tbody
        id="invoice_table"
        onclick="let newRow = this.appendChild(document.createElement('tr')); let numCells = this.rows[0].cells.length; for (let i = 0; i < numCells; i++) { let newCell = newRow.appendChild(document.createElement('td')); newCell.innerHTML = 'xxx'; newCell.style.border = '1px solid black';}"
      >
        <tr style="border: 1px solid black">
          <th style="border: 1px solid black">Product #</th>
          <th style="border: 1px solid black">Name</th>
          <th style="border: 1px solid black">Quantity</th>
          <th style="border: 1px solid black">Price</th>
          <th style="border: 1px solid black">Extended Cost</th>
        </tr>
        <script>
          for (let i in product_quantities) {
            let extended_cost = products[i].price * product_quantities[i];
            document.write(`
          <tr style="border: 1px solid black;">
            <td style="border: 1px solid black;">${Number(i) + 1}</td>
            <td style="border: 1px solid black;">${products[i].name}</td>
            <td style="border: 1px solid black;">${product_quantities[i]}</td>
            <td style="border: 1px solid black;">${products[i].price.toFixed(
              2
            )}</td>
            <td style="border: 1px solid black;">${extended_cost.toFixed(
              2
            )}</td>
          </tr>
        `);
          }
        </script>
      </tbody>
    </table>

    <input
      type="button"
      value="Delete Last Row"
      onclick=" let table=document.getElementById('invoice_table'); let num_rows = table.rows.length; if(num_rows > 1) {table.deleteRow(num_rows - 1);}"
    />
  </body>
</html>
